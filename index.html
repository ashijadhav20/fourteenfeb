<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>For Nama ❤️</title>
    <style>
        :root { --primary-red: #ff4d6d; --soft-pink: #fff0f3; }
        body { background-color: var(--soft-pink); font-family: 'Arial', sans-serif; margin: 0; height: 100vh; display: flex; justify-content: center; align-items: center; overflow: hidden; text-align: center; }
        
        /* Initial Card */
        #main-card { background: white; padding: 30px; width: 85%; max-width: 350px; border-radius: 25px; box-shadow: 0 15px 35px rgba(255, 77, 109, 0.2); z-index: 100; }
        h1 { color: var(--primary-red); }
        .btn-yes { background: var(--primary-red); color: white; border: none; padding: 15px 40px; font-size: 1.2rem; border-radius: 50px; cursor: pointer; width: 100%; margin-top: 15px; }

        /* Animation Stage */
        #stage { display: none; flex-direction: column; align-items: center; width: 100%; }
        
        .heart-wrapper { 
            position: relative; width: 250px; height: 250px; margin-bottom: -20px; 
            opacity: 0; transform: scale(0.5); transition: all 0.8s ease;
            animation: float 3s ease-in-out infinite;
        }
        
        @keyframes float { 
            0%, 100% { transform: translateY(0); } 
            50% { transform: translateY(-15px); } 
        }
        
        .visible { opacity: 1; transform: scale(1); }
        .heart-svg-container { width: 100%; height: 100%; }
        .heart-border { fill: var(--primary-red); }
        .heart-bg { fill: white; }

        #success-msg { font-size: 1.8rem; color: var(--primary-red); font-weight: bold; opacity: 0; margin-top: 20px; transition: opacity 1s; }
        .falling-heart { position: fixed; top: -10%; color: var(--primary-red); z-index: 1; animation: fall linear forwards; }
        @keyframes fall { to { transform: translateY(110vh) rotate(360deg); } }
        
        /* YouTube Player Hidden */
        #video-holder { position: absolute; top: -1000px; left: -1000px; }
    </style>
</head>
<body>

    <svg width="0" height="0" style="position:absolute;">
        <defs>
            <clipPath id="heartClip" clipPathUnits="objectBoundingBox">
                <path d="M.5,0.2 C.33,-0.1 .0,0 .0,0.35 C.0,0.6 .5,1 .5,1 C.5,1 1,0.6 1,0.35 C1,0 .67,-0.1 .5,0.2"></path>
            </clipPath>
        </defs>
    </svg>

    <div id="main-card">
        <h1>Hi Nama! ❤️</h1>
        <p>I know you are my valentine.<br>Do you wanna come on a date with me?</p>
        <button class="btn-yes" onclick="startEverything()">Yes, I'd Love To!</button>
    </div>

    <div id="stage">
        <div id="box1" class="heart-wrapper">
            <svg class="heart-svg-container" viewBox="0 0 100 100">
                <path class="heart-border" d="M50,20 C33,-10 0,0 0,35 C0,60 50,100 50,100 C50,100 100,60 100,35 C100,0 67,-10 50,20" />
                <path class="heart-bg" d="M50,23 C35,-5 5,5 5,35 C5,55 50,90 50,90 C50,90 95,55 95,35 C95,5 65,-5 50,23" />
                <foreignObject x="8" y="8" width="84" height="84" clip-path="url(#heartClip)">
                    <img src="image1.jpg" style="width:100%; height:100%; object-fit:contain;">
                </foreignObject>
            </svg>
        </div>

        <div id="box2" class="heart-wrapper" style="display:none;">
            <svg class="heart-svg-container" viewBox="0 0 100 100">
                <path class="heart-border" d="M50,20 C33,-10 0,0 0,35 C0,60 50,100 50,100 C50,100 100,60 100,35 C100,0 67,-10 50,20" />
                <path class="heart-bg" d="M50,23 C35,-5 5,5 5,35 C5,55 50,90 50,90 C50,90 95,55 95,35 C95,5 65,-5 50,23" />
                <foreignObject x="8" y="8" width="84" height="84" clip-path="url(#heartClip)">
                    <img src="image2.jpg" style="width:100%; height:100%; object-fit:contain;">
                </foreignObject>
            </svg>
        </div>

        <div id="success-msg">DATE SUCCESSFUL! ✨</div>
    </div>

    <div id="video-holder"></div>

    <script>
        function startEverything() {
            // 1. Play Music Immediately
            const videoId = 'R6KvmB3XI-E';
            document.getElementById('video-holder').innerHTML = 
                `<iframe width="100" height="100" src="https://www.youtube.com/embed/${videoId}?autoplay=1&start=44&playsinline=1" allow="autoplay"></iframe>`;

            // 2. Hide Card and Show Animation Stage
            document.getElementById('main-card').style.display = 'none';
            document.getElementById('stage').style.display = 'flex';

            // 3. Sequential Reveal
            // Show first heart after 0.5s
            setTimeout(() => { 
                document.getElementById('box1').classList.add('visible'); 
            }, 500);

            // Show second heart after 4s
            setTimeout(() => {
                const b2 = document.getElementById('box2');
                b2.style.display = 'block';
                setTimeout(() => {
                    b2.classList.add('visible');
                    // Show success message and confetti after another 1s
                    setTimeout(() => {
                        document.getElementById('success-msg').style.opacity = '1';
                        startConfetti();
                    }, 1000);
                }, 100);
            }, 4500);
        }

        function startConfetti() {
            setInterval(() => {
                const h = document.createElement('div');
                h.innerHTML = '❤️'; h.className = 'falling-heart';
                h.style.left = Math.random() * 100 + 'vw';
                h.style.fontSize = (Math.random() * 20 + 10) + 'px';
                h.style.animationDuration = (Math.random() * 3 + 2) + 's';
                document.body.appendChild(h);
                setTimeout(() => h.remove(), 5000);
            }, 300);
        }
    </script>
</body>
</html>
